!function(t,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports):"function"==typeof define&&define.amd?define(["exports"],r):r((t="undefined"!=typeof globalThis?globalThis:t||self).D2Utils={})}(this,(function(t){"use strict";var r="object"==typeof global&&global&&global.Object===Object&&global,n="object"==typeof self&&self&&self.Object===Object&&self,e=r||n||Function("return this")(),o=e.Symbol,i=Object.prototype,a=i.hasOwnProperty,l=i.toString,u=o?o.toStringTag:void 0;var s=Object.prototype.toString;var c="[object Null]",h="[object Undefined]",f=o?o.toStringTag:void 0;function p(t){return null==t?void 0===t?h:c:f&&f in Object(t)?function(t){var r=a.call(t,u),n=t[u];try{t[u]=void 0;var e=!0}catch(t){}var o=l.call(t);return e&&(r?t[u]=n:delete t[u]),o}(t):function(t){return s.call(t)}(t)}function _(t){return null!=t&&"object"==typeof t}var g="[object Symbol]";function y(t){return"symbol"==typeof t||_(t)&&p(t)==g}var d=Array.isArray,v=1/0,b=o?o.prototype:void 0,w=b?b.toString:void 0;function m(t){if("string"==typeof t)return t;if(d(t))return function(t,r){for(var n=-1,e=null==t?0:t.length,o=Array(e);++n<e;)o[n]=r(t[n],n,t);return o}(t,m)+"";if(y(t))return w?w.call(t):"";var r=t+"";return"0"==r&&1/t==-v?"-0":r}function j(t){var r=typeof t;return null!=t&&("object"==r||"function"==r)}var O="[object AsyncFunction]",A="[object Function]",R="[object GeneratorFunction]",x="[object Proxy]";var T,S=e["__core-js_shared__"],C=(T=/[^.]+$/.exec(S&&S.keys&&S.keys.IE_PROTO||""))?"Symbol(src)_1."+T:"";var E=Function.prototype.toString;var M=/^\[object .+?Constructor\]$/,z=Function.prototype,F=Object.prototype,P=z.toString,H=F.hasOwnProperty,N=RegExp("^"+P.call(H).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function $(t){if(!j(t)||(r=t,C&&C in r))return!1;var r,n=function(t){if(!j(t))return!1;var r=p(t);return r==A||r==R||r==O||r==x}(t)?N:M;return n.test(function(t){if(null!=t){try{return E.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t))}function L(t,r){var n=function(t,r){return null==t?void 0:t[r]}(t,r);return $(n)?n:void 0}var k=Date.now;var I,G,J,B=function(){try{var t=L(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),D=B,U=D?function(t,r){return D(t,"toString",{configurable:!0,enumerable:!1,value:(n=r,function(){return n}),writable:!0});var n}:function(t){return t},V=(I=U,G=0,J=0,function(){var t=k(),r=16-(t-J);if(J=t,r>0){if(++G>=800)return arguments[0]}else G=0;return I.apply(void 0,arguments)}),q=V,K=9007199254740991,Q=/^(?:0|[1-9]\d*)$/;function W(t,r){var n=typeof t;return!!(r=null==r?K:r)&&("number"==n||"symbol"!=n&&Q.test(t))&&t>-1&&t%1==0&&t<r}function X(t,r){return t===r||t!=t&&r!=r}var Y=Object.prototype.hasOwnProperty;function Z(t,r,n){var e=t[r];Y.call(t,r)&&X(e,n)&&(void 0!==n||r in t)||function(t,r,n){"__proto__"==r&&D?D(t,r,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[r]=n}(t,r,n)}var tt=Math.max;var rt=9007199254740991;function nt(t){return _(t)&&"[object Arguments]"==p(t)}var et=Object.prototype,ot=et.hasOwnProperty,it=et.propertyIsEnumerable,at=nt(function(){return arguments}())?nt:function(t){return _(t)&&ot.call(t,"callee")&&!it.call(t,"callee")},lt=at,ut=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,st=/^\w*$/;var ct=L(Object,"create");var ht=Object.prototype.hasOwnProperty;var ft=Object.prototype.hasOwnProperty;function pt(t){var r=-1,n=null==t?0:t.length;for(this.clear();++r<n;){var e=t[r];this.set(e[0],e[1])}}function _t(t,r){for(var n=t.length;n--;)if(X(t[n][0],r))return n;return-1}pt.prototype.clear=function(){this.__data__=ct?ct(null):{},this.size=0},pt.prototype.delete=function(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r},pt.prototype.get=function(t){var r=this.__data__;if(ct){var n=r[t];return"__lodash_hash_undefined__"===n?void 0:n}return ht.call(r,t)?r[t]:void 0},pt.prototype.has=function(t){var r=this.__data__;return ct?void 0!==r[t]:ft.call(r,t)},pt.prototype.set=function(t,r){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=ct&&void 0===r?"__lodash_hash_undefined__":r,this};var gt=Array.prototype.splice;function yt(t){var r=-1,n=null==t?0:t.length;for(this.clear();++r<n;){var e=t[r];this.set(e[0],e[1])}}yt.prototype.clear=function(){this.__data__=[],this.size=0},yt.prototype.delete=function(t){var r=this.__data__,n=_t(r,t);return!(n<0)&&(n==r.length-1?r.pop():gt.call(r,n,1),--this.size,!0)},yt.prototype.get=function(t){var r=this.__data__,n=_t(r,t);return n<0?void 0:r[n][1]},yt.prototype.has=function(t){return _t(this.__data__,t)>-1},yt.prototype.set=function(t,r){var n=this.__data__,e=_t(n,t);return e<0?(++this.size,n.push([t,r])):n[e][1]=r,this};var dt=L(e,"Map");function vt(t,r){var n,e,o=t.__data__;return("string"==(e=typeof(n=r))||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==n:null===n)?o["string"==typeof r?"string":"hash"]:o.map}function bt(t){var r=-1,n=null==t?0:t.length;for(this.clear();++r<n;){var e=t[r];this.set(e[0],e[1])}}bt.prototype.clear=function(){this.size=0,this.__data__={hash:new pt,map:new(dt||yt),string:new pt}},bt.prototype.delete=function(t){var r=vt(this,t).delete(t);return this.size-=r?1:0,r},bt.prototype.get=function(t){return vt(this,t).get(t)},bt.prototype.has=function(t){return vt(this,t).has(t)},bt.prototype.set=function(t,r){var n=vt(this,t),e=n.size;return n.set(t,r),this.size+=n.size==e?0:1,this};var wt="Expected a function";function mt(t,r){if("function"!=typeof t||null!=r&&"function"!=typeof r)throw new TypeError(wt);var n=function(){var e=arguments,o=r?r.apply(this,e):e[0],i=n.cache;if(i.has(o))return i.get(o);var a=t.apply(this,e);return n.cache=i.set(o,a)||i,a};return n.cache=new(mt.Cache||bt),n}mt.Cache=bt;var jt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ot=/\\(\\)?/g,At=function(t){var r=mt(t,(function(t){return 500===n.size&&n.clear(),t})),n=r.cache;return r}((function(t){var r=[];return 46===t.charCodeAt(0)&&r.push(""),t.replace(jt,(function(t,n,e,o){r.push(e?o.replace(Ot,"$1"):n||t)})),r})),Rt=At;function xt(t,r){return d(t)?t:function(t,r){if(d(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!y(t))||st.test(t)||!ut.test(t)||null!=r&&t in Object(r)}(t,r)?[t]:Rt(function(t){return null==t?"":m(t)}(t))}var Tt=1/0;function St(t){if("string"==typeof t||y(t))return t;var r=t+"";return"0"==r&&1/t==-Tt?"-0":r}function Ct(t,r){for(var n=0,e=(r=xt(r,t)).length;null!=t&&n<e;)t=t[St(r[n++])];return n&&n==e?t:void 0}function Et(t,r){for(var n=-1,e=r.length,o=t.length;++n<e;)t[o+n]=r[n];return t}var Mt=o?o.isConcatSpreadable:void 0;function zt(t){return d(t)||lt(t)||!!(Mt&&t&&t[Mt])}function Ft(t,r,n,e,o){var i=-1,a=t.length;for(n||(n=zt),o||(o=[]);++i<a;){var l=t[i];r>0&&n(l)?r>1?Ft(l,r-1,n,e,o):Et(o,l):e||(o[o.length]=l)}return o}function Pt(t){return(null==t?0:t.length)?Ft(t,1):[]}function Ht(t,r){return null!=t&&r in Object(t)}function Nt(t,r,n){for(var e,o=-1,i=(r=xt(r,t)).length,a=!1;++o<i;){var l=St(r[o]);if(!(a=null!=t&&n(t,l)))break;t=t[l]}return a||++o!=i?a:!!(i=null==t?0:t.length)&&("number"==typeof(e=i)&&e>-1&&e%1==0&&e<=rt)&&W(l,i)&&(d(t)||lt(t))}function $t(t,r,n,e){if(!j(t))return t;for(var o=-1,i=(r=xt(r,t)).length,a=i-1,l=t;null!=l&&++o<i;){var u=St(r[o]),s=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return t;if(o!=a){var c=l[u];void 0===(s=e?e(c,u,l):void 0)&&(s=j(c)?c:W(r[o+1])?[]:{})}Z(l,u,s),l=l[u]}return t}function Lt(t,r){return function(t,r,n){for(var e=-1,o=r.length,i={};++e<o;){var a=r[e],l=Ct(t,a);n(l,a)&&$t(i,xt(a,t),l)}return i}(t,r,(function(r,n){return function(t,r){return null!=t&&Nt(t,r,Ht)}(t,n)}))}var kt=function(t){return q(function(t,r,n){return r=tt(void 0===r?t.length-1:r,0),function(){for(var e=arguments,o=-1,i=tt(e.length-r,0),a=Array(i);++o<i;)a[o]=e[r+o];o=-1;for(var l=Array(r+1);++o<r;)l[o]=e[o];return l[r]=n(a),function(t,r,n){switch(n.length){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}(t,this,l)}}(t,void 0,Pt),t+"")}((function(t,r){return null==t?{}:Lt(t,r)})),It=kt;var Gt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Jt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Bt={exports:{}};!function(t,r){(function(){var r=Array.prototype.slice,n=Object.prototype.toString;function e(t,r){this.options=r||{},this.reset(t)}e.VERSION="0.0.8",e.LEFT=0,e.CENTER=1,e.RIGHT=2,e.factory=function(t,r){return new e(t,r)},e.align=function(t,r,n,o){return t===e.LEFT?e.alignLeft(r,n,o):t===e.RIGHT?e.alignRight(r,n,o):t===e.CENTER?e.alignCenter(r,n,o):e.alignAuto(r,n,o)},e.alignLeft=function(t,r,n){return!r||r<0?"":(null==t&&(t=""),void 0===n&&(n=" "),"string"!=typeof t&&(t=t.toString()),r+1-t.length<=0?t:t+Array(r+1-t.length).join(n))},e.alignCenter=function(t,r,n){if(!r||r<0)return"";null==t&&(t=""),void 0===n&&(n=" "),"string"!=typeof t&&(t=t.toString());var o=t.length,i=Math.floor(r/2-o/2),a=Math.abs(o%2-r%2);r=t.length;return e.alignRight("",i,n)+t+e.alignLeft("",i+a,n)},e.alignRight=function(t,r,n){return!r||r<0?"":(null==t&&(t=""),void 0===n&&(n=" "),"string"!=typeof t&&(t=t.toString()),r+1-t.length<=0?t:Array(r+1-t.length).join(n)+t)},e.alignAuto=function(t,r,o){null==t&&(t="");var i=n.call(t);return o||(o=" "),r=+r,"[object String]"!==i&&(t=t.toString()),t.length<r?"[object Number]"===i?e.alignRight(t,r,o):e.alignLeft(t,r,o):t},e.arrayFill=function(t,r){for(var n=new Array(t),e=0;e!==t;e++)n[e]=r;return n},e.prototype.reset=e.prototype.clear=function(t){return this.__name="",this.__nameAlign=e.CENTER,this.__rows=[],this.__maxCells=0,this.__aligns=[],this.__colMaxes=[],this.__spacing=1,this.__heading=null,this.__headingAlign=e.CENTER,this.setBorder(),"[object String]"===n.call(t)?this.__name=t:"[object Object]"===n.call(t)&&this.fromJSON(t),this},e.prototype.setBorder=function(t,r,n,e){return this.__border=!0,1===arguments.length&&(r=n=e=t),this.__edge=t||"|",this.__fill=r||"-",this.__top=n||".",this.__bottom=e||"'",this},e.prototype.removeBorder=function(){return this.__border=!1,this.__edge=" ",this.__fill=" ",this},e.prototype.setAlign=function(t,r){return this.__aligns[t]=r,this},e.prototype.setTitle=function(t){return this.__name=t,this},e.prototype.getTitle=function(){return this.__name},e.prototype.setTitleAlign=function(t){return this.__nameAlign=t,this},e.prototype.sort=function(t){return this.__rows.sort(t),this},e.prototype.sortColumn=function(t,r){return this.__rows.sort((function(n,e){return r(n[t],e[t])})),this},e.prototype.setHeading=function(t){return(arguments.length>1||"[object Array]"!==n.call(t))&&(t=r.call(arguments)),this.__heading=t,this},e.prototype.getHeading=function(){return this.__heading.slice()},e.prototype.setHeadingAlign=function(t){return this.__headingAlign=t,this},e.prototype.addRow=function(t){return(arguments.length>1||"[object Array]"!==n.call(t))&&(t=r.call(arguments)),this.__maxCells=Math.max(this.__maxCells,t.length),this.__rows.push(t),this},e.prototype.getRows=function(){return this.__rows.slice().map((function(t){return t.slice()}))},e.prototype.addRowMatrix=function(t){for(var r=0;r<t.length;r++)this.addRow(t[r]);return this},e.prototype.addData=function(t,r,e){if("[object Array]"!==n.call(t))return this;for(var o=0,i=t.length;o<i;o++){var a=r(t[o]);e?this.addRowMatrix(a):this.addRow(a)}return this},e.prototype.clearRows=function(){return this.__rows=[],this.__maxCells=0,this.__colMaxes=[],this},e.prototype.setJustify=function(t){return 0===arguments.length&&(t=!0),this.__justify=!!t,this},e.prototype.toJSON=function(){return{title:this.getTitle(),heading:this.getHeading(),rows:this.getRows()}},e.prototype.parse=e.prototype.fromJSON=function(t){return this.clear().setTitle(t.title).setHeading(t.heading).addRowMatrix(t.rows)},e.prototype.render=e.prototype.valueOf=e.prototype.toString=function(){for(var t,r=this,n=[],o=this.__maxCells,i=e.arrayFill(o,0),a=3*o,l=this.__rows,u=this.__border,s=this.__heading?[this.__heading].concat(l):l,c=0;c<s.length;c++)for(var h=s[c],f=0;f<o;f++){var p=h[f];i[f]=Math.max(i[f],p?p.toString().length:0)}this.__colMaxes=i,t=this.__justify?Math.max.apply(null,i):0,i.forEach((function(n){a+=t||n+r.__spacing})),t&&(a+=i.length),a-=this.__spacing,u&&n.push(this._seperator(a-o+1,this.__top)),this.__name&&(n.push(this._renderTitle(a-o+1)),u&&n.push(this._seperator(a-o+1))),this.__heading&&(n.push(this._renderRow(this.__heading," ",this.__headingAlign)),n.push(this._rowSeperator(o,this.__fill)));for(c=0;c<this.__rows.length;c++)n.push(this._renderRow(this.__rows[c]," "));u&&n.push(this._seperator(a-o+1,this.__bottom));var _=this.options.prefix||"";return _+n.join("\n"+_)},e.prototype._seperator=function(t,r){return r||(r=this.__edge),r+e.alignRight(r,t,this.__fill)},e.prototype._rowSeperator=function(){var t=e.arrayFill(this.__maxCells,this.__fill);return this._renderRow(t,this.__fill)},e.prototype._renderTitle=function(t){var r=" "+this.__name+" ",n=e.align(this.__nameAlign,r,t-1," ");return this.__edge+n+this.__edge},e.prototype._renderRow=function(t,r,n){for(var o=[""],i=this.__colMaxes,a=0;a<this.__maxCells;a++){var l=t[a],u=this.__justify?Math.max.apply(null,i):i[a],s=this.__aligns[a],c=n,h="alignAuto";void 0===n&&(c=s),c===e.LEFT&&(h="alignLeft"),c===e.CENTER&&(h="alignCenter"),c===e.RIGHT&&(h="alignRight"),o.push(e[h](l,u,r))}var f=o.join(r+this.__edge+r);return(f=f.substr(1,f.length))+r+this.__edge},["Left","Right","Center"].forEach((function(t){var n=e[t.toUpperCase()];["setAlign","setTitleAlign","setHeadingAlign"].forEach((function(o){e.prototype[o+t]=function(){var t=r.call(arguments).concat(n);return this[o].apply(this,t)}}))})),t.exports=e}).call(Gt)}(Bt);var Dt=Jt(Bt.exports);function Ut(t){var r=t.title,n=t.columns,e=t.data,o=t.formatters,i=void 0===o?{}:o,a=new Dt(r);a.setHeading.apply(a,n.map((function(t){return t.label})));for(var l=function(t){a.addRow.apply(a,n.map((function(r){var n=t[r.key],e=i[r.key];return e?e(n):n})))},u=0,s=e;u<s.length;u++){l(s[u])}return a.toString()}function Vt(t){var r=t.title,n=t.data,e=new Dt(r);for(var o in e.setHeading("key","value"),n)e.addRow(o,n[o]);return e.toString()}t.objectToAscii=Vt,t.printAsciiObject=function(t){var r=Vt(t);console.log(r)},t.printAsciiTable=function(t){var r=Ut(t);console.log(r)},t.tableToAscii=Ut,t.test=function(){var t=It({a:1,b:2,c:3},["a","b"]);console.log(t)},Object.defineProperty(t,"__esModule",{value:!0})}));
